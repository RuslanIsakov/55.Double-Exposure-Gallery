<!DOCTYPE HTML>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <title>Double Exposure Gallery</title>
	 <link rel="stylesheet" href="style.css">
 </head>
 <body>
    <br><br><br><br><br>
<p id="loading">loading...</p>
<div id="images">
  <div class="lighten">
    <img src="images/lighten1.jpg" alt="1" />
    <img src="images/lighten3.jpg" alt="2" />
<img src="images/lighten1.jpg" alt="3" />
    <img src="images/lighten4.jpg" alt="4" />
  </div>
<div class="normal">
    <img src="images/1.jpg" alt="1" />
    <img src="images/2.jpg" alt="2" />
<img src="images/4.jpg" alt="3" />
    <img src="images/3.jpg" alt="4" />
  </div>
<nav>
    <ul>
      <li class="pre"></li>
      <li class="next"></li>
    </ul>
  </nav>
</div>
<script>
    "use strict";
var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
window.onload = function () {
  var loading = document.getElementById("loading");
  loading.classList.add("loading-done");
var property = {
    element: "#images",
    parallax: .6,
    interval: 2200,
    animDuration: 1300,
    easing: easingInOutQuad
  };
 var slider = new DXslider(property);
  slider.init();
};
var DXslider = function () {
  function DXslider(property) {
    _classCallCheck(this, DXslider);
this.images = document.querySelector(property.element);
    this.preButton = document.querySelector(property.element + " nav .pre");
this.nextButton = document.querySelector(property.element + " nav .next");
    this.lightenImages = document.querySelectorAll(".lighten img");
this.normalImages = document.querySelectorAll(".normal img");
    this.canvasBox = document.createElement("div");
this.paraEffect = property.parallax; //have to clamp 0 ~ 1
    this.canvasArray = [];
this.progress = 0;
    this.animating = false;
 this.interval = property.interval;
    this.left = true;
    this.duration = property.animDuration;
    this.easing = property.easing;
this.images.appendChild(this.canvasBox);
    this.canvasBox.classList.add("canvas");
  }
_createClass(DXslider, [{
    key: "init",
    value: function init() {
      this.settingStyle();
this.settingCanvas();

      this.preButton.addEventListener("click", function (e) {
        if (!this.animating) {
this.left = false;
          clearTimeout(this.timer);
          this.slide();
        }
      }.bind(this), false);

      this.preButton.addEventListener("touchend", function (e) {
        if (!this.animating) {
          this.left = false;
